<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>Composition Â· GitBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="If Redux is really missing something out of the box, it&#39;s some kind of Encapsulation and Composition is a new Encapsulation in functional programming lingo">
        <meta name="generator" content="GitBook 3.0.0-pre.5">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="action-composition.html" />
    
    
    <link rel="prev" href="../gif-viewer/unit-tests.html" />
    

    </head>
    <body>
        
<div class="book"
    data-level="3"
    data-chapter-title="Composition"
    data-filepath="composition/README.md"
    data-basepath="../../docs"
    data-revision="Thu Apr 07 2016 13:34:34 GMT+0200 (CEST)"
    data-innerlanguage="">
    

<div class="book-summary">
    
    <nav role="navigation">
        <ul class="summary">
            
            

            


            
            
    
        <li class="chapter " data-level="0" data-path="../">
            
                <a href="../">
            
                    
                    Why the Elm Architecture matters?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1" data-path="../getting-started/">
            
                <a href="../getting-started/">
            
                    
                        <b>1.</b>
                    
                    Getting Started Tutorial
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="../getting-started/necessary-boilerplate.html">
            
                <a href="../getting-started/necessary-boilerplate.html">
            
                    
                        <b>1.1.</b>
                    
                    Necessary boilerplate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../getting-started/hello-world.html">
            
                <a href="../getting-started/hello-world.html">
            
                    
                        <b>1.2.</b>
                    
                    Hello World!
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="../gif-viewer/">
            
                <a href="../gif-viewer/">
            
                    
                        <b>2.</b>
                    
                    GifViewer tutorial
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="../gif-viewer/shaping-model.html">
            
                <a href="../gif-viewer/shaping-model.html">
            
                    
                        <b>2.1.</b>
                    
                    Shaping out initial Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../gif-viewer/rendering-view.html">
            
                <a href="../gif-viewer/rendering-view.html">
            
                    
                        <b>2.2.</b>
                    
                    Rendering View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../gif-viewer/side-effects.html">
            
                <a href="../gif-viewer/side-effects.html">
            
                    
                        <b>2.3.</b>
                    
                    AJAX &amp; Side Effects in practice
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../gif-viewer/unit-tests.html">
            
                <a href="../gif-viewer/unit-tests.html">
            
                    
                        <b>2.4.</b>
                    
                    Writing Unit Tests
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="3" data-path="./">
            
                <a href="./">
            
                    
                        <b>3.</b>
                    
                    Composition
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="action-composition.html">
            
                <a href="action-composition.html">
            
                    
                        <b>3.1.</b>
                    
                    Action Composition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="example/">
            
                <a href="example/">
            
                    
                        <b>3.2.</b>
                    
                    Real Composition Example
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="example/updater-composition.html">
            
                <a href="example/updater-composition.html">
            
                    
                        <b>3.2.1.</b>
                    
                    Updater Composition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="example/action-composition-practice.html">
            
                <a href="example/action-composition-practice.html">
            
                    
                        <b>3.2.2.</b>
                    
                    Action Composition in practice
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.3" data-path="example/matchers.html">
            
                <a href="example/matchers.html">
            
                    
                        <b>3.2.3.</b>
                    
                    Introduction Matchers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.4" data-path="example/utilizing-matchers.html">
            
                <a href="example/utilizing-matchers.html">
            
                    
                        <b>3.2.4.</b>
                    
                    Utilizing Matchers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.5" data-path="example/public-interface.html">
            
                <a href="example/public-interface.html">
            
                    
                        <b>3.2.5.</b>
                    
                    Using public interface
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="dynamic-list/">
            
                <a href="dynamic-list/">
            
                    
                        <b>3.3.</b>
                    
                    Dynamic List of Components
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1" data-path="dynamic-list/updater-parameterized-matcher.html">
            
                <a href="dynamic-list/updater-parameterized-matcher.html">
            
                    
                        <b>3.3.1.</b>
                    
                    Updater with ParmeterizedMatcher
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="../custom-matchers/">
            
                <a href="../custom-matchers/">
            
                    
                        <b>4.</b>
                    
                    Custom Matchers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="../custom-matchers/writing-custom-matcher.html">
            
                <a href="../custom-matchers/writing-custom-matcher.html">
            
                    
                        <b>4.1.</b>
                    
                    Writing Custom Matcher
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            <li class="divider"></li>
            

            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
        </ul>
    </nav>
    
</div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    
<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../docs" >Composition</a>
    </h1>
</div>



                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            <section class="normal markdown-section">
                            
                            <h2 id="composition">Composition</h2>
<p>If Redux is really missing something out of the box, it&apos;s some kind of Encapsulation and <strong>Composition is a new Encapsulation in functional programming lingo</strong>. Redux gives programmer a huge power by having single instance of application state in one place. However, with great power comes great responsibility and that&apos;s why sometimes it tends people to abuse that power, which can gradually lead to very coupled Components and hardly maintanable code base. <code>redux-elm</code> is strict, it defines hard boundaries between components and does not allow to break them. Decoupling is one of the benefits of <code>redux-elm</code>.</p>
<p><strong>Composition is an essential concept in the Elm Architecture</strong> and it&apos;s what makes <code>redux-elm</code> different than plain old <code>react</code> with <code>redux</code>. Traditionally you can compose views in <code>react</code> by simply nesting them, this top-down approach means that parent component is aware of public interface of its direct children and children does not know anything about its parent, it only exposes public interface using callbacks in <code>props</code>:</p>
<pre><code class="lang-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ParentView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{

  onTextFieldValueChanged(value) {
    <span class="hljs-keyword">this</span>.setState({
      textFieldValue: value
    });
  }

  render() {
    <span class="hljs-keyword">return</span> (
      &lt;ChildView textFieldValue={this.state.textFieldValue} onTextFieldChanged={::this.onTextFieldValueChanged} /&gt;
    );
  }
}

const ChildView = ({ onTextFieldChanged, textFieldValue }) =&gt; ({
  &lt;input type=&quot;text&quot; onChange={onTextFieldChanged} value={textFieldValue} /&gt;
});
</code></pre>
<p><code>ParentView</code> takes role of managing all the state and communicates with <code>ChildView</code> using <code>onTextFieldChanged</code> callback passed via <code>props</code>. This approach however has one significiant drawback, <code>ParentView</code> must be aware of internal details of <code>ChildView</code> because it must know that there&apos;s some <code>textFieldValue</code>. The Elm Architecture therefore presents concept of Model and Model is some Object which encapsulates state of the Component, so instead of passing all the values via <code>props</code> we&apos;ll pass just model which hides everything in its structure.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> RootView = ({ model }) =&gt; ({
  &lt;ParentView model={model.parentViewModel}
})

const ParentView = ({ model }) =&gt; ({
  &lt;ChildView model={model.childViewModel} /&gt;
});

const ChildView = ({ model, onTextFieldChanged }) =&gt; ({
  &lt;input type=&quot;text&quot; onChange={onTextFieldChanged} value={model.value} /&gt;
});
</code></pre>
<p>Now parent only knows that it has Child and the Child has its own Model but Parent does not need to know anything about implementation details of Child. The Model Composition is pretty obvious:</p>
<pre><code class="lang-javascript">{
  parentViewModel: {
    childViewModel: {
      value: <span class="hljs-string">&apos;Text Field Value&apos;</span>
    }
  }
}
</code></pre>
<p>It&apos;s pretty common to compose Application State (Model) and Views in <code>react</code> with <code>redux</code>, so what&apos;s actually the main (and probably only) distinction between <code>redux</code> and The Elm Architecture?</p>

                            
                            </section>
                        </div>
                    </div>
                
            </div>

            
                
                <a href="../gif-viewer/unit-tests.html" class="navigation navigation-prev " aria-label="Previous page: Writing Unit Tests">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="action-composition.html" class="navigation navigation-next " aria-label="Next page: Action Composition">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>
</div>

        
    <script src="../gitbook/app.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
    <script>
    require(["gitbook"], function(gitbook) {
        gitbook.start({"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"livereload":{}});
    });
    </script>

    </body>
</html>
